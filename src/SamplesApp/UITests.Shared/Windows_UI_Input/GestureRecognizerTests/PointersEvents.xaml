<Page
	x:Class="UITests.Shared.Windows_UI_Input.GestureRecognizer.PointersEvents"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:win="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:not_win="http://platform.uno"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="not_win">

	<Grid>
		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup>
				<VisualState>
					<VisualState.StateTriggers>
						<!--<AdaptiveTrigger MinWindowWidth="700" />-->
						<StateTrigger IsActive="{Binding ElementName=_splitButton, Path=IsChecked}" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<!--<Setter Target="_tabs.Visibility" Value="Collapsed" />-->
						<Setter Target="_configColumn.Width" Value="300" />
						<Setter Target="_benchColumn.Width" Value="*" />
						<Setter Target="_outputColumn.Width" Value="2*" />
					</VisualState.Setters>
				</VisualState>
				<win:VisualState x:Name="Config">
					<VisualState.StateTriggers>
						<StateTrigger IsActive="{Binding ElementName=_configButton, Path=IsChecked}" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<!--<Setter Target="_tabs.Visibility" Value="Visible" />-->
						<Setter Target="_configColumn.Width" Value="*" />
						<Setter Target="_benchColumn.Width" Value="0" />
						<Setter Target="_outputColumn.Width" Value="0" />
					</VisualState.Setters>
				</win:VisualState>
				<win:VisualState x:Name="Bench">
					<VisualState.StateTriggers>
						<StateTrigger IsActive="{Binding ElementName=_benchButton, Path=IsChecked}" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="_tabs.Visibility" Value="Visible" />
						<Setter Target="_configColumn.Width" Value="0" />
						<Setter Target="_benchColumn.Width" Value="*" />
						<Setter Target="_outputColumn.Width" Value="0" />
					</VisualState.Setters>
				</win:VisualState>
				<win:VisualState x:Name="Output">
					<VisualState.StateTriggers>
						<StateTrigger IsActive="{Binding ElementName=_outputButton, Path=IsChecked}" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="_tabs.Visibility" Value="Visible" />
						<Setter Target="_configColumn.Width" Value="0" />
						<Setter Target="_benchColumn.Width" Value="0" />
						<Setter Target="_outputColumn.Width" Value="*" />
					</VisualState.Setters>
				</win:VisualState>
			</VisualStateGroup>
		</VisualStateManager.VisualStateGroups>

		<Grid.ColumnDefinitions>
			<ColumnDefinition x:Name="_configColumn"/>
			<ColumnDefinition x:Name="_benchColumn" />
			<ColumnDefinition x:Name="_outputColumn" />
		</Grid.ColumnDefinitions>

		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition />
		</Grid.RowDefinitions>

		<StackPanel Orientation="Horizontal" x:Name="_tabs" Grid.ColumnSpan="3">
			<RadioButton GroupName="TabView" Content="Splitted" x:Name="_splitButton" IsChecked="True" />
			<RadioButton GroupName="TabView" Content="Config" x:Name="_configButton" />
			<RadioButton GroupName="TabView" Content="Bench" x:Name="_benchButton" />
			<RadioButton GroupName="TabView" Content="Output" x:Name="_outputButton" />

			<Button
				Grid.ColumnSpan="3"
				Grid.RowSpan="2"
				HorizontalAlignment="Right"
				VerticalAlignment="Top"
				Content="Clear"
				Click="ClearLog" />
		</StackPanel>

		<ScrollViewer Grid.Column="0" Grid.Row="1">
			<StackPanel Padding="10,0">
				<TextBlock
					Text="This is a test bench to check the expected properties of pointer events args. Configure below the pointer you are going to use, then test it in the pink zone on right."
					TextWrapping="Wrap"/>

				<ComboBox
					x:Name="_pointerType"
					Header="Pointer type:"
					SelectionChanged="OnPointerTypeChanged"  />

				<TextBox
					x:Name="_pointerId" 
					Header="Pointer ID:"
					Width="75"
					HorizontalAlignment="Left" />

				<TextBlock Text="Expected buttons:" />
				<CheckBox
					x:Name="_leftButton" 
					Content="Left"
					IsThreeState="True"
					IsChecked="True" />
				<CheckBox
					x:Name="_middleButton" 
					Content="Middle"
					IsThreeState="True"
					IsChecked="False" />
				<CheckBox
					x:Name="_rightButton" 
					Content="Right"
					IsThreeState="True"
					IsChecked="False" />
				<CheckBox
					x:Name="_barrelButton"
					Content="Pen's barrel"
					IsThreeState="True"
					IsChecked="False" />
				<CheckBox
					x:Name="_eraserButton"
					Content="Pen's eraser"
					IsThreeState="True"
					IsChecked="False" />
				<CheckBox
					x:Name="_x1Button"
					Content="X Button 1"
					IsThreeState="True"
					IsChecked="False" />
				<CheckBox
					x:Name="_x2Button"
					Content="X Button 2"
					IsThreeState="True"
					IsChecked="False" />

				<TextBlock Text="Expected properties:" />
				<CheckBox
					x:Name="_inRange" 
					Content="In range"
					IsThreeState="True"
					IsChecked="True" />
				<CheckBox
					x:Name="_inContact" 
					Content="In contact"
					IsThreeState="True"
					IsChecked="{x:Null}" />

				<TextBlock Text="Bench config:" />
				<ToggleSwitch
					x:Name="_capture"
					Header="Capture"
					OnContent="Capture the pointer on press"
					OffContent="Pointer won't be captured"
					Toggled="OnConfigChanged" />
				<ToggleSwitch
					x:Name="_handledEventsToo"
					Header="Handled events too"
					OnContent="All events are subscribed for handled events too"
					OffContent="Unhandled events only"
					Toggled="OnConfigChanged" />
				<ToggleSwitch
					x:Name="_horizontalScroll" 
					Header="Horizontal scroll"
					OnContent="Horizontal scroll enabled"
					OffContent="Horizontal scroll disabled"
					Toggled="OnConfigChanged"
					IsOn="True" />
				<ToggleSwitch
					x:Name="_verticalScroll" 
					Header="Vertical scroll"
					OnContent="Vertical scroll enabled"
					OffContent="Vertical scroll disabled"
					Toggled="OnConfigChanged"
					IsOn="True" />

				<ComboBox
					x:Name="_manipMode" 
					Header="Manipulation mode: "
					SelectionChanged="OnManipModeChanged" />
				<ToggleSwitch
					x:Name="_manipStarting" 
					Header="Manipulation starting"
					OnContent="Subscribed to manip starting"
					OffContent="Manip starting muted"
					Toggled="OnConfigChanged" />
				<ToggleSwitch
					x:Name="_manipStarted" 
					Header="Manipulation started"
					OnContent="Subscribed to manip started"
					OffContent="Manip started muted"
					Toggled="OnConfigChanged" />
				<ToggleSwitch
					x:Name="_manipDelta"
					Header="Manipulation delta"
					OnContent="Subscribed to manip delta"
					OffContent="Manip delta muted"
					Toggled="OnConfigChanged" />
				<ToggleSwitch
					x:Name="_manipCompleted" 
					Header="Manipulation completed"
					OnContent="Subscribed to manip completed"
					OffContent="Manip completed muted"
					Toggled="OnConfigChanged" />

				<ToggleSwitch
					x:Name="_gestureTapped" 
					Header="Tapped"
					OnContent="Subscribed to tap"
					OffContent="Tap disabled"
					Toggled="OnConfigChanged"
					IsOn="True" />
				<ToggleSwitch
					x:Name="_gestureDoubleTapped" 
					Header="Double tapped"
					OnContent="Subscribed to double tap"
					OffContent="Double tap disabled"
					Toggled="OnConfigChanged"
					IsOn="True" />
			</StackPanel>
		</ScrollViewer>

		<ScrollViewer Grid.Column="1" Grid.Row="1" x:Name="_myScrollViewer">
			<Grid
				x:Name="_touchTargetParent"
				MinWidth="2048"
				MinHeight="2048"
				Background="DeepSkyBlue">
				<Border
					x:Name="_touchTarget"
					HorizontalAlignment="Left"
					VerticalAlignment="Top"
					Margin="50, 50, 0, 0"
					Width="200"
					Height="200"
					Background="DeepPink" />
			</Grid>
		</ScrollViewer>

		<ListView Grid.Column="2" Grid.Row="1" x:Name="_log">
			<ItemsControl.ItemTemplate>
				<DataTemplate>
					<StackPanel>
						<TextBlock>
							<Run Foreground="{Binding Sender.Background}" Text="{Binding Sender.Name}" />
							<Run Text="{Binding Name}"/>
							<Run Text="{Binding ValidityBullet}"/>
						</TextBlock>
						<TextBlock Text="{Binding Details}" TextWrapping="Wrap" FontSize="8" />
					</StackPanel>
				</DataTemplate>
			</ItemsControl.ItemTemplate>
		</ListView>
	</Grid>
</Page>
